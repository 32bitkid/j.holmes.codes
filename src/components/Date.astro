---
import { parseDate } from "./parseDate";
const { date, day = true, month = true } = Astro.props;
const format = !month
  ? { year: 'numeric' } as const
  : !day
  ? {year: 'numeric', month: 'short'} as const
  : {year: 'numeric', month: 'short', day: 'numeric'} as const;

const dateObj = parseDate(date);
---
<style>
    time {
        font-variant-numeric: tabular-nums oldstyle-nums;
    }
</style>
<time datetime={dateObj.toISOString()}>{dateObj.toLocaleDateString("en-US", format)}</time>